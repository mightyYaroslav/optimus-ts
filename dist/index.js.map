{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":["Optimus","Optimus.constructor"],"mappings":"AAAA,IAAY,IAAI,WAAM,MAEtB,CAAC,CAF2B;AAE5B;IASEA,iBAAYA,KAAaA,EAAEA,OAAeA,EAAEA,MAAcA;QAPlDC,cAASA,GAAGA,UAAUA,CAAAA;QACtBA,eAAUA,GAAGA,UAAUA,CAAAA;QAYxBA,WAAMA,GAAGA,UAAUA,GAAWA;YACnC,IAAI,CAAC,GAAS,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;YAC/B,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAA;QAC1F,CAAC,CAAAA;QAEMA,WAAMA,GAAGA,UAAUA,GAAWA;YACnC,IAAI,CAAC,GAAS,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;YAC/B,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,CAAA;QAC5F,CAAC,CAAAA;QAbCA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAAAA;QAChCA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAAAA;QACpCA,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAAAA;IACpCA,CAACA;IAYHD,cAACA;AAADA,CAACA,AAzBD,IAyBC;AAzBD,yBAyBC,CAAA","sourcesContent":["import * as Long from 'long'\n\nexport default class Optimus {\n\n  private MAX_INT32 = 2147483647\n  private MULTIPLIER = 4294967296 // 2^32;\n\n  private prime: Long\n  private inverse: Long\n  private random: Long\n\n  constructor(prime: number, inverse: number, random: number) {\n    this.prime = Long.fromInt(prime)\n    this.inverse = Long.fromInt(inverse)\n    this.random = Long.fromInt(random)\n  }\n\n  public encode = function (num: number): number {\n    let n: Long = Long.fromInt(num)\n    return n.multiply(this.prime).and(Long.fromInt(this.MAX_INT32)).xor(this.random).toInt()\n  }\n\n  public decode = function (num: number): number {\n    let n: Long = Long.fromInt(num)\n    return n.xor(this.random).multiply(this.inverse).and(Long.fromInt(this.MAX_INT32)).toInt()\n  }\n\n}"]}